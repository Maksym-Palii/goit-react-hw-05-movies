"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[782],{782:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(861),a=r(439),s=r(757),u=r.n(s),c=r(791),i=r(87),o=r(689),l=r(243);l.Z.defaults.baseURL="https://api.themoviedb.org/3";var f=function(){var e=(0,n.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.get("/search/movie?api_key=".concat("abbc06680f95aa51ddd683d2c46a812f","&query=").concat(t,"&language=en-US&include_adult=false"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=f,m="SearchForm_form__o80os",v="SearchForm_input__HOxJo",d="SearchForm_btn__TXrR3",p=r(184),_=function(e){var t=e.submit,r=(0,c.useState)(""),n=(0,a.Z)(r,2),s=n[0],u=n[1];return(0,p.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault(),""!==s.trim()?(t(s),u("")):alert("Enter a query in the search field")},children:[(0,p.jsx)("input",{className:v,onChange:function(e){var t=e.target.value;u(t)},name:"searchQuery",value:s,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,p.jsx)("button",{className:d,type:"submit",children:"Search"})]})},x="Movies_container__+-Cnt",b="Movies_list__hqYjd",g="Movies_link__MzAfU",S=function(){var e,t=(0,c.useState)([]),r=(0,a.Z)(t,2),s=r[0],l=r[1],f=(0,c.useState)(null),m=(0,a.Z)(f,2),v=m[0],d=m[1],S=(0,i.lr)(),j=(0,a.Z)(S,2),k=j[0],y=j[1],w=null!==(e=k.get("name"))&&void 0!==e?e:"";var Z=(0,o.TH)();return(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(w);case 3:return 0===(t=e.sent).results.length&&alert("Sorry, no movi for this request ".concat(w)),e.next=7,t.results.map((function(e){return{title:e.title,id:e.id}}));case 7:r=e.sent,l(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),d(e.t0.mesage);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();w&&e()}),[w]),(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)(_,{submit:function(e){var t;y(""!==(t=e)?{name:t}:{}),d(null)}}),v&&(0,p.jsx)("h1",{children:v}),(0,p.jsx)("ul",{children:s.map((function(e){return(0,p.jsx)("li",{className:b,children:(0,p.jsx)(i.rU,{className:g,to:"".concat(e.id),state:{from:Z},children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=782.4f0f99f3.chunk.js.map